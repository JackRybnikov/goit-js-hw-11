{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\n\nexport const galleryCreation = (images) => {\n    galleryList.innerHTML = \"\";\n    if(images.length === 0){\n        iziToast.error({\n            backgroundColor: '#FFBEBE',\n            messageColor: '#fff',\n            position: 'topRight',\n            message: `Sorry, there are no images matching your search query. Please try again!`\n        })\n    }else{\n        const markup = images.map(image => {\n            const {webformatURL: small, largeImageURL: big, tags: alt, likes, views, comments, downloads } = image;\n            return `<li class=\"gallery-item\">\n                        <a class=\"gallery-link\" href=\"${big}\">\n                            <img\n                            class=\"gallery-image\"\n                            src=\"${small}\"\n                            alt=\"${alt}\"\n                            />\n                        </a>\n                        <ul class=\"properties\">\n                                <li>\n                                    <h5>Likes</h5>\n                                    <p>${likes}</p>\n                                </li>\n                                <li>\n                                    <h5>Views</h5>\n                                    <p>${views}</p>\n                                </li>\n                                <li>\n                                    <h5>Comments</h5>\n                                    <p>${comments}</p>\n                                </li>\n                                <li>\n                                    <h5>Downloads</h5>\n                                    <p>${downloads}</p>\n                                </li>\n                            </ul>\n                    </li>`;\n        })\n        .join(\"\");\n\n        galleryList.insertAdjacentHTML(\"beforeend\", markup);\n\n        const gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: \"alt\",});\n    }\n};\n","import { galleryCreation } from \"./render-functions.js\";\n\nexport const sendRequest = (search) => {\n    const imageToAdd = {\n        key: \"42388767-1d9ccb99c091176bae08c2c78\",\n        q: `${search}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 198,\n    };\n\n    let addToSearch = '?';\n    for (let key in imageToAdd){\n        addToSearch +=`${key}=${imageToAdd[key]}&`;\n    }\n\n    fetch(`https://pixabay.com/api/${addToSearch}`)\n    .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n    })\n    .then(value => {\n        galleryCreation(value.hits);\n    })\n    .catch(error => console.log(error));\n}\n\n","import { sendRequest } from \"./js/pixabay-api.js\"\n\nconst galleryList = document.querySelector(\".gallery\");\nconst searchText = document.querySelector(\"#photo-search\");\nconst searchBtn = document.querySelector(\".search-btn\");\nconst searchForm = document.querySelector(\".search-form\");\n\n// getting search value\nconst localStorageKey = \"search-text\";\n\nsearchBtn.setAttribute('disabled', true);\n\nsearchText.addEventListener(\"input\", e =>{\n    e.stopPropagation();\n\n    let text = e.target.value;\n\n    localStorage.setItem(localStorageKey,JSON.stringify(text));\n    \n    if(text !== ''){\n        searchBtn.removeAttribute('disabled');\n    } else {\n        searchBtn.setAttribute('disabled', true);\n    }\n});\n\nsearchBtn.addEventListener(\"click\", e =>{\n    e.stopPropagation();\n\n    galleryList.innerHTML = `<div class=\"loader\"></div>`;\n\n    const search = localStorage.getItem(localStorageKey);\n    localStorage.removeItem(localStorageKey);\n    searchForm.reset();\n    searchBtn.setAttribute('disabled', true);\n\n    sendRequest(search);\n});\n\n\n/*const markup = images.map(image => {\n    const {preview: small, original: big, description: alt} = image;\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${big}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${small}\"\n      alt=\"${alt}\"\n    />\n  </a>\n</li>`;\n})\n.join(\"\");\n\n\n\nconst gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: \"alt\",});*/\n"],"names":["galleryList","galleryCreation","images","iziToast","markup","image","small","big","alt","likes","views","comments","downloads","SimpleLightbox","sendRequest","search","imageToAdd","addToSearch","key","response","value","error","searchText","searchBtn","searchForm","localStorageKey","e","text"],"mappings":"6vBAMA,MAAMA,EAAc,SAAS,cAAc,UAAU,EAExCC,EAAmBC,GAAW,CAEvC,GADAF,EAAY,UAAY,GACrBE,EAAO,SAAW,EACjBC,EAAS,MAAM,CACX,gBAAiB,UACjB,aAAc,OACd,SAAU,WACV,QAAS,0EACrB,CAAS,MACA,CACD,MAAMC,EAASF,EAAO,IAAIG,GAAS,CAC/B,KAAM,CAAC,aAAcC,EAAO,cAAeC,EAAK,KAAMC,EAAK,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAKP,EACjG,MAAO;AAAA,wDACqCE,CAAG;AAAA;AAAA;AAAA,mCAGxBD,CAAK;AAAA,mCACLE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMGC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,0BAIlD,CAAS,EACA,KAAK,EAAE,EAERZ,EAAY,mBAAmB,YAAaI,CAAM,EAElC,IAAIS,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO,CAC9F,CACL,ECpDaC,EAAeC,GAAW,CACnC,MAAMC,EAAa,CACf,IAAK,qCACL,EAAG,GAAGD,CAAM,GACZ,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GAClB,EAEI,IAAIE,EAAc,IAClB,QAASC,KAAOF,EACZC,GAAc,GAAGC,CAAG,IAAIF,EAAWE,CAAG,CAAC,IAG3C,MAAM,2BAA2BD,CAAW,EAAE,EAC7C,KAAKE,GAAY,CACd,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAKC,GAAS,CACXnB,EAAgBmB,EAAM,IAAI,CAClC,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,EC1BMrB,EAAc,SAAS,cAAc,UAAU,EAC/CsB,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAGlDC,EAAkB,cAExBF,EAAU,aAAa,WAAY,EAAI,EAEvCD,EAAW,iBAAiB,QAASI,GAAI,CACrCA,EAAE,gBAAe,EAEjB,IAAIC,EAAOD,EAAE,OAAO,MAEpB,aAAa,QAAQD,EAAgB,KAAK,UAAUE,CAAI,CAAC,EAEtDA,IAAS,GACRJ,EAAU,gBAAgB,UAAU,EAEpCA,EAAU,aAAa,WAAY,EAAI,CAE/C,CAAC,EAEDA,EAAU,iBAAiB,QAASG,GAAI,CACpCA,EAAE,gBAAe,EAEjB1B,EAAY,UAAY,6BAExB,MAAMe,EAAS,aAAa,QAAQU,CAAe,EACnD,aAAa,WAAWA,CAAe,EACvCD,EAAW,MAAK,EAChBD,EAAU,aAAa,WAAY,EAAI,EAEvCT,EAAYC,CAAM,CACtB,CAAC"}